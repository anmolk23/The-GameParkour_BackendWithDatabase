<!DOCTYPE html>
<html>
<head>
<title>The GameParkour - Home</title>
<link rel="stylesheet" href="style.css">
</head>

<body>

<div class="navbar">
  <div class="logo">
    <img src="logo.jpg">
    <span>The GameParkour</span>
  </div>

  <div class="nav-links">
    <a class="options" href="index.html">Home</a>
    <a href="profile.html">Profile</a>
    <a href="collection.html">Collection</a>
    <a href="wishlist.html">Wishlist</a>
    <a href="stats.html">Stats</a>
    <a id="authLink" href="login.html">Login</a>
  </div>
</div>


<div class="homepage">
  <h1>Welcome to The GameParkour</h1>
  <p>Your personal Gaming Hub.</p>

  <div class="view">
    
    <div class="cards">
      <h3>Track Progress</h3>
      <p>Store your gaming history, wishlist, achievements and more.</p>
    </div>

    <a href="collection.html" class="card" style="display:block; text-decoration:none; color:inherit;">
      <h3>Manage Collection</h3>
      <p>Add or view your games.</p>
    </a>

    <a href="stats.html" class="card" style="display:block; text-decoration:none; color:inherit;">
      <h3>Gaming Stats</h3>
      <p>View your total hours, level & achievements.</p>
    </a>

  </div>
</div>


<div class="footer">Â© 2025 The GameParkour</div>


<script>
// --------------------------
// SHOW LOGIN or LOGOUT
// --------------------------
async function checkAuth() {
  const link = document.getElementById("authLink");

  try {
    const res = await fetch("/api/profile");

    if (res.status === 200) {
      // USER IS LOGGED IN
      link.textContent = "Logout";
      link.href = "#";

      link.onclick = async () => {
        await fetch("/api/logout", { method: "POST" });
        window.location = "login.html";
      };
    } else {
      // USER NOT LOGGED IN
      link.textContent = "Login";
      link.href = "login.html";
    }

  } catch (err) {
    console.error("Auth check error:", err);
    link.textContent = "Login";
    link.href = "login.html";
  }
}

checkAuth();
</script>

</body>
</html>
